let monthArr=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],year=(new Date).getFullYear(),month=(new Date).getMonth(),days=new Date(year,month+1,0).getDate(),discount_date=document.querySelector(".discount_date_p span");discount_date&&(discount_date.textContent=days+" "+monthArr[month]);let body=document.querySelector("body");const containerFurnace=document.querySelector(".catalog_furnace__items"),containerReadySet=document.querySelector(".ready_set__items"),containerAccessories=document.querySelector(".accessories_catalog__categories");let isQuiz=!!JSON.parse(localStorage.getItem("kazanbelQuiz"))&&JSON.parse(localStorage.getItem("kazanbelQuiz")),isModalExit=!1;function testWebP(e){var n=new Image;n.onload=n.onerror=function(){e(2==n.height)},n.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function showModal(e,n){if(n){document.querySelector(e).innerHTML=`<img src="${n}">`}$(e).modal({})}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));let isAfgan=body.classList.contains("afgan"),fromPage="Узбекские казаны";isAfgan&&(fromPage="Афганские казаны");let indexResolve=0,indexSlick=0,isInit=!1;function showModalQuiz(e){$(e).modal({}),console.log(isInit),isInit||(isInit=!0,setTimeout((function(){$(".quiz_left").slick(quizSlider())}),200),$(".input_person__phone input").click((function(){$(this).setCursorPosition(6)})),$(".progress_back").click((function(){progressLine(-1),isDisabletNextBtn(),$(e+" .slick-prev").trigger("click")})),$(".progress_next").click((function(){progressLine(1),isDisabletNextBtn(),$(e+" .slick-next").trigger("click")})),$(".quiz_messenger input").click((function(){currentMessengerQuiz(this)})),$(".input_radio").click((function(){setTimeout((function(){$(e+" .slick-next").trigger("click")}),400);let n=this.parentNode.querySelectorAll("input");for(let e of n)if(e.checked)return progressLine(1),void isDisabletNextBtn();progressLine(1,!0),isDisabletNextBtn()})))}function showModalYouTube(e){document.querySelector(e).innerHTML='<iframe width="100%" height="360" src="https://www.youtube.com/embed/FJxx0nxQVrI" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>',$(e).modal({})}function showModalOneClickKazan(modal,data,dataFull,size){data=eval(data);let textSent=`<span><b>id:</b> ${data.id}, <b>название:</b> ${data.name}, <b>цена:</b> ${data.discountPrice}</span>`,jsModal=document.querySelector(modal);jsModal.innerHTML=`\n    <form>\n        <h3>Заполните форму, чтобы купить</h3>\n        <div class="cart_item">\n            <img class="cart_item__img " src="${data.img[0]}">\n            <div class="cart_item__title">\n                <span>${data.name}</span>\n            </div>\n            <div class="cart_item__price">\n                <span class="cart_item__price--standart">${data.price} руб</span>\n                <span class="cart_item__price--stock">${data.discountPrice} руб</span>\n            </div>\n        </div>\n        <label for="person_phone_one_click">Ваш красивый номер телефона</label>\n        <div class="input_person__phone">\n        <input type="text" name="person_phone" id="person_phone_one_click" placeholder="+375 (__) ___ - __ - __"> \n        </div>\n        <button type="submit" class="btn-b btn_b--call" onclick="orderOneClickKazan(this, 'Заказ в один клик', '${textSent}', '${data}')" type-submit="В один клик">Купить в 1 клик</button>\n    </form>\n    `,$((function(){$(".input_person__phone input").mask("+375 (99) 999 - 99 - 99")})),$(".input_person__phone input").click((function(){$(this).setCursorPosition(6)})),$(modal).modal({})}function showModalOneClickFurnace(modal,data,size){size=+size.getAttribute("size"),data=eval(data),console.log(data);let textSent=`<span><b>id:</b> ${data.id}, <b>название:</b> ${data.title}, <b>размер:</b> ${data.size[size].size}, <b>цена:</b> ${data.size[size].discountPrice}</span>`,jsModal=document.querySelector(modal);jsModal.innerHTML=`\n    <form>\n        <h3>Заполните форму, чтобы купить</h3>\n        <div class="cart_item">\n            <img class="cart_item__img " src="${data.img[0]}">\n            <div class="cart_item__title">\n                <span>${data.title}</span><br>\n                <span>${data.size[size].size}</span>\n            </div>\n            <div class="cart_item__price">\n                <span class="cart_item__price--standart">${data.size[size].price} руб</span>\n                <span class="cart_item__price--stock">${data.size[size].discountPrice} руб</span>\n            </div>\n        </div>\n        <label for="person_phone_one_click">Ваш красивый номер телефона</label>\n        <div class="input_person__phone">\n        <input type="text" name="person_phone" id="person_phone_one_click" placeholder="+375 (__) ___ - __ - __"> \n        </div>\n        <button type="submit" class="btn-b btn_b--call" onclick="orderOneClickFurnace(this, 'Заказ в один клик', '${textSent}', '${data}')" type-submit="В один клик">Купить в 1 клик</button>\n    </form>\n    `,$((function(){$(".input_person__phone input").mask("+375 (99) 999 - 99 - 99")})),$(".input_person__phone input").click((function(){$(this).setCursorPosition(6)})),$(modal).modal({})}function showModalOneClickSet(modal,data){data=eval(data);let textSent=`<span><b>id:</b> ${data.id}, <b>название:</b> ${data.title}, <b>цена:</b> ${data.setPrice}</span>`,jsModal=document.querySelector(modal);jsModal.innerHTML=`\n    <form>\n        <h3>Заполните форму, чтобы купить</h3>\n        <div class="cart_item">\n            <img class="cart_item__img " src="${data.img[0]}">\n            <div class="cart_item__title">\n                <span>${data.title}</span>\n            </div>\n            <div class="cart_item__price">\n                <span class="cart_item__price--standart">${data.singlePrice} руб</span>\n                <span class="cart_item__price--stock">${data.setPrice} руб</span>\n            </div>\n        </div>\n        <label for="person_phone_one_click">Ваш красивый номер телефона</label>\n        <div class="input_person__phone">\n        <input type="text" name="person_phone" id="person_phone_one_click" placeholder="+375 (__) ___ - __ - __"> \n        </div>\n        <button type="submit" class="btn-b btn_b--call" onclick="orderOneClickSet(this, 'Заказ в один клик', '${textSent}', '${data}')" type-submit="В один клик">Купить в 1 клик</button>\n    </form>\n    `,$((function(){$(".input_person__phone input").mask("+375 (99) 999 - 99 - 99")})),$(".input_person__phone input").click((function(){$(this).setCursorPosition(6)})),$(modal).modal({})}function showModalOneClickAccessories(modal,data,size){size=+size.getAttribute("size"),data=eval(data);let textSent=`<span><b>id:</b> ${data.id}, <b>название:</b> ${data.name}, <b>размер:</b> ${data.size[size].size}, <b>цена:</b> ${data.size[size].discountPrice}</span>`,jsModal=document.querySelector(modal);jsModal.innerHTML=`\n    <form>\n        <h3>Заполните форму, чтобы купить</h3>\n        <div class="cart_item">\n            <img class="cart_item__img " src="${data.size[size].img[0]}">\n            <div class="cart_item__title">\n                <span>${data.name}</span><br>\n                <span>${data.size[size].size}</span>\n            </div>\n            <div class="cart_item__price">\n                <span class="cart_item__price--standart">${data.size[size].price} руб</span>\n                <span class="cart_item__price--stock">${data.size[size].discountPrice} руб</span>\n            </div>\n        </div>\n        <label >Вам нужен казан?</label>\n        <div class="__select _select_one_click" data-state="">\n            <div onclick="(showSelect(this))" class="__select__title " data-default="Да, 4.5 литра">Да, 4.5 литра</div>\n                <div class="__select__content">\n                    <div>\n                        <input id="acc_4-5" class="__select__input _select_input_furnace" type="radio" value="Да, 4.5 литра" name="needKazan"}"/>\n                        <label for="acc_4-5" class="__select__label _select_label_furnace">Да, 4.5 литра</label>\n                        <input id="acc_6" class="__select__input _select_input_furnace" type="radio" value="Да, 6 литров" name="needKazan"}"/>\n                        <label for="acc_6" class="__select__label _select_label_furnace">Да, 6 литров</label>\n                        <input id="acc_8" class="__select__input _select_input_furnace" type="radio" value="Да, 8 литров" name="needKazan"}"/>\n                        <label for="acc_8" class="__select__label _select_label_furnace">Да, 8 литров</label>\n                        <input id="acc_8" class="__select__input _select_input_furnace" type="radio" value="Да, 10 литров" name="needKazan"}"/>\n                        <label for="acc_8" class="__select__label _select_label_furnace">Да, 10 литров</label>\n                        <input id="acc_no" class="__select__input _select_input_furnace" type="radio" value="Нет" name="needKazan"}"/>\n                        <label for="acc_no" class="__select__label _select_label_furnace">Нет</label>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <label for="person_phone_one_click">Ваш красивый номер телефона</label>\n        <div class="input_person__phone">\n        <input type="text" name="person_phone" id="person_phone_one_click" placeholder="+375 (__) ___ - __ - __"> \n        </div>\n        <button type="submit" class="btn-b btn_b--call" onclick="orderOneClickAccessories(this, 'Заказ в один клик', '${textSent}', '${data}')" type-submit="В один клик">Купить в 1 клик</button>\n    </form>\n    `,$((function(){$(".input_person__phone input").mask("+375 (99) 999 - 99 - 99")})),$(".input_person__phone input").click((function(){$(this).setCursorPosition(6)})),$(modal).modal({}),$(".modal").css("display")}function progressLine(e,n){n&&(indexResolve+=1),indexSlick+=+e,indexSlick<0&&(indexSlick=0);let t=$(".progress_current_line"),a=($(".container_quiz .gifts_for_answers"),$(".elem_quiz.slick-active").attr("data-slick-index")),s=$(".progress_quiz_block");switch(+a+e){case 0:t.css("max-width","0"),animateElem(".quiz_right_block .discount_count span","0"),animateElem(".quiz_right_block_mobile .discount_count_mobile span","0"),animateElem(".progress_quiz span span","0%");break;case 1:t.css("max-width","14%"),animateElem(".progress_quiz span span","14%"),animateElem(".quiz_right_block .discount_count span","3"),animateElem(".quiz_right_block_mobile .discount_count_mobile span","3");break;case 2:t.css("max-width","28%"),animateElem(".progress_quiz span span","28%"),animateElem(".quiz_right_block .discount_count span","5"),animateElem(".quiz_right_block_mobile .discount_count_mobile span","5");break;case 3:t.css("max-width","42%"),animateElem(".progress_quiz span span","42%"),animateElem(".quiz_right_block .discount_count span","7"),animateElem(".quiz_right_block_mobile .discount_count_mobile span","7");break;case 4:t.css("max-width","56%"),animateElem(".progress_quiz span span","56%"),animateElem(".quiz_right_block .discount_count span","9"),animateElem(".quiz_right_block_mobile .discount_count_mobile span","9");break;case 5:t.css("max-width","70%"),animateElem(".progress_quiz span span","70%"),animateElem(".quiz_right_block .discount_count span","11"),animateElem(".quiz_right_block_mobile .discount_count_mobile span","11");break;case 6:t.css("max-width","85%"),animateElem(".progress_quiz span span","85%"),animateElem(".quiz_right_block .discount_count span","13"),animateElem(".quiz_right_block_mobile .discount_count_mobile span","13");break;case 7:t.css("max-width","100%"),animateElem(".progress_quiz span span","100%"),animateElem(".quiz_right_block .discount_count span","15"),animateElem(".quiz_right_block_mobile .discount_count_mobile span","15"),animateGiftBlocked(".quiz_gift i"),animateFinishGift(".finish_block","block"),window.innerWidth<800?(animateFinishGift(".progress_quiz_block","none"),animateFinishGift(".quiz_right_mobile","none"),animateFinishGift(".container_quiz .gifts_for_answers","block")):(s.css("opacity","0"),s.css("pointer-events","none"))}}function isDisabletNextBtn(){let e=document.querySelector(".progress_next");e.setAttribute("index",indexResolve);let n=e.getAttribute("index");console.log(indexSlick,n),e.disabled=!(indexSlick<n)}function currentMessengerQuiz(e){let n=document.querySelector(".quiz_btns_sent_input label");console.log(e);let t="телефона";switch(e.value){case"По телефону":t="телефона";break;case"В Viber":t="в viber";break;case"В WhatsApp":t="в whatsApp";break;case"В telegram":t="в telegram"}n.textContent="Ваш красивый номер "+t}function animateFinishGift(e,n){$(e).animate({opacity:0},300,(function(){$(e).css("display",n),$(e).animate({opacity:1},300)}))}function animateElem(e,n){$(e).animate({opacity:0},300,(function(){document.querySelector(e).textContent=n,$(e).animate({opacity:1},300)}))}function animateGiftBlocked(e){$(e).animate({opacity:0},300,(function(){$(e).addClass("checked"),$(e).animate({opacity:1},300)}))}function modalAddToCart(){$(".modal_add_to_cart").toggleClass("active"),$(".black_bg").addClass("active"),jQuery((function(e){e(document).mouseup((function(n){var t=e(".nav__mobile"),a=e(".cart_discount"),s=e(".cart");t.is(n.target)||0!==t.has(n.target).length||a.is(n.target)||0!==a.has(n.target).length||s.is(n.target)||0!==s.has(n.target).length||(e(".black_bg").removeClass("active"),e(".modal_add_to_cart").removeClass("active"))}))})),$(".open_cart_form_modal ").click((function(){$(".modal_add_to_cart").removeClass("active"),$(".cart").addClass("active"),jQuery((function(e){e(document).mouseup((function(n){var t=e(".cart"),a=e(".cart_discount");t.is(n.target)||0!==t.has(n.target).length||a.is(n.target)||0!==a.has(n.target).length||(e(".cart").removeClass("active"),e(".black_bg").removeClass("active"),e(".cart_discount").removeClass("active"))}))})),$(".btn_close--cart ").click((function(){$(".cart").removeClass("active"),$(".black_bg").removeClass("active"),$(".cart_discount").removeClass("active")})),$(".cart_discount").addClass("active"),$(".black_bg").addClass("active")}))}function showPrompt(e){$(e).css("opacity","1"),$(e).css("pointer-events","visible"),jQuery((function(e){e(document).mouseup((function(n){var t=e(".prompt");t.is(n.target)||0!==t.has(n.target).length||(e(".prompt").css("opacity","0"),e(".prompt").css("pointer-events","none"))}))}))}function hidePrompt(e){$(e).parent().css("opacity","0"),$(e).parent().css("pointer-events","none")}$(".prompt").mouseleave((function(){$(".prompt").css("opacity","0"),$(".prompt").css("pointer-events","none")})),$(".nav__mobile .nav_toggle span").click((function(){$(this).siblings("ul").slideToggle(),$(this).children(".nav_arrow").toggleClass("active")})),$(".btn_menu ").click((function(){$(".nav__mobile").toggleClass("active"),jQuery((function(e){e(document).mouseup((function(n){var t=e(".nav__mobile");t.is(n.target)||0!==t.has(n.target).length||(e(".nav__mobile").removeClass("active"),e(".black_bg").removeClass("active"))}))})),$(".close_mobile__menu ").click((function(){$(".nav__mobile").removeClass("active"),$(".black_bg").removeClass("active")})),$(".black_bg").addClass("active")})),$(".btn_to_cart ").click((function(){$(".cart").toggleClass("active"),$(".cart_discount").addClass("active"),$(".black_bg").addClass("active"),jQuery((function(e){e(document).mouseup((function(n){var t=e(".cart"),a=e(".cart_discount"),s=e(".btn_remove");t.is(n.target)||0!==t.has(n.target).length||a.is(n.target)||0!==a.has(n.target).length||s.is(n.target)||0!==s.has(n.target).length||(e(".cart").removeClass("active"),e(".black_bg").removeClass("active"),e(".cart_discount").removeClass("active"))}))})),$(".btn_close--cart ").click((function(){$(".cart").removeClass("active"),$(".black_bg").removeClass("active"),$(".cart_discount").removeClass("active")}))})),$((function(){$(".input_person__phone input").mask("+375 (99) 999 - 99 - 99")}));let thnks=!1;function sentPhone(e,n){(e=e.closest("form")).onsubmit=t=>{let a=!0;if(a=function(n){let t=e.parentNode.querySelector(".input_person__phone"),a=e.parentNode.querySelector(".input_person__phone input");console.log(a);let s=a.value;return/\+\d{3}\s\(\d{2}\)\s\d{3}\s-\s\d{2}\s-\s\d{2}/.test(s)&&29==s.substr(6,2)||"33"==s.substr(6,2)||"44"==s.substr(6,2)||"25"==s.substr(6,2)?(a.className="",!0):(t.className="input_person__phone phone_not_valid_cont",a.className="phone_not_valid",n&&a.focus(),!1)}(a)&&a,a){let t=$(e).serialize();return t+="&fromForm="+n,t+="&fromPage="+fromPage,_rc("send","order",{orderMethod:"",phone:$(e).find("input[name=person_phone]").val(),customTransactionId:url("?transaction_id"),customerComment:fromPage+" __ "+n}),$.ajax({url:"php/sentPhone.php",type:"POST",data:t,success:function(){showModalExtraKazan(".modal_extra_oneclick","",phonePerson)},error:function(e){alert("Ошибка сервера. Сообщение не отправлено")}}),!1}t.preventDefault()}}function orderCart(e,n){(e=e.closest("form")).onsubmit=t=>{let a=!0;if(a=function(n){let t=e.parentNode.querySelector(".input_person__phone"),a=e.parentNode.querySelector(".input_person__phone input");console.log(a);let s=a.value;return/\+\d{3}\s\(\d{2}\)\s\d{3}\s-\s\d{2}\s-\s\d{2}/.test(s)&&29==s.substr(6,2)||"33"==s.substr(6,2)||"44"==s.substr(6,2)||"25"==s.substr(6,2)?(a.className="",!0):(t.className="input_person__phone phone_not_valid_cont",a.className="phone_not_valid",n&&a.focus(),!1)}(a)&&a,a){let t="",a=0;for(let[e,n]of cartArr.entries())e+=1,t+=` <li>${e}) <b>id:</b>${n.id}, <b>название:</b> ${n.name}, <b>количество:</b> ${n.count}, <b>размер:</b> ${n.size}, <b>цена</b> ${n.discountPrice} </li>`,a+=n.discountPrice*n.count;let s=$(e).serialize();return s+="&fromForm="+n,s+="&order="+t,s+="&totalPrice="+a,s+="&fromPage="+fromPage,_rc("send","order",{orderMethod:"",phone:$(e).find("input[name=person_phone]").val(),customTransactionId:url("?transaction_id"),customerComment:fromPage+" __ "+n+" __ "+t}),$.ajax({url:"php/orderCart.php",type:"POST",data:s,success:function(){"Узбекские казаны"==fromPage&&(window.location.href="thanksUzbek.html"),"Афганские казаны"==fromPage&&(window.location.href="thanksAfgan.html"),cartArr=[],localStorage.setItem("kazanbelCart",JSON.stringify(cartArr)),renderCart(),renderNumberInCart()},error:function(e){alert("Ошибка сервера. Сообщение не отправлено")}}),!1}t.preventDefault()}}let phonePerson="";function orderOneClickExtra(e,n){(e=e.closest("form")).onsubmit=t=>{let a=$(e).serialize();a+="&fromForm="+n,a+="&person_phone="+phonePerson,a+="&fromPage="+fromPage;let s=e.querySelectorAll(".extra_item input"),i="";for(let e=0;e<s.length;e++)s[e].checked&&(i+=`\n                ${s[e].value};\n                `);return _rc("send","order",{orderMethod:"",phone:phonePerson,customTransactionId:url("?transaction_id"),customerComment:fromPage+" __ "+n+" __ "+i}),$.ajax({url:"php/orderOneClickExtra.php",type:"POST",data:a,success:function(){"Узбекские казаны"==fromPage&&(window.location.href="thanksUzbek.html"),"Афганские казаны"==fromPage&&(window.location.href="thanksAfgan.html")},error:function(e){alert("Ошибка сервера. Сообщение не отправлено")}}),!1}}function orderOneClickKazan(e,n,t,a){(e=e.closest("form")).onsubmit=s=>{let i=!0;if(i=function(n){let t=e.parentNode.querySelector(".input_person__phone"),a=e.parentNode.querySelector(".input_person__phone input");console.log(a);let s=a.value;return/\+\d{3}\s\(\d{2}\)\s\d{3}\s-\s\d{2}\s-\s\d{2}/.test(s)&&29==s.substr(6,2)||"33"==s.substr(6,2)||"44"==s.substr(6,2)||"25"==s.substr(6,2)?(a.className="",phonePerson=s,!0):(t.className="input_person__phone phone_not_valid_cont",a.className="phone_not_valid",n&&a.focus(),!1)}(i)&&i,i){let s=$(e).serialize();return s+="&fromForm="+n,s+="&order="+t,s+="&fromPage="+fromPage,_rc("send","order",{orderMethod:"",phone:$(e).find("input[name=person_phone]").val(),customTransactionId:url("?transaction_id"),customerComment:fromPage+" __ "+n+" __ "+t}),$.ajax({url:"php/orderOneClickKazan.php",type:"POST",data:s,success:function(){showModalExtraKazan(".modal_extra_oneclick",a,phonePerson)},error:function(e){alert("Ошибка сервера. Сообщение не отправлено")}}),!1}s.preventDefault()}}function orderOneClickFurnace(e,n,t,a){(e=e.closest("form")).onsubmit=s=>{let i=!0;if(i=function(n){let t=e.parentNode.querySelector(".input_person__phone"),a=e.parentNode.querySelector(".input_person__phone input");console.log(a);let s=a.value;return/\+\d{3}\s\(\d{2}\)\s\d{3}\s-\s\d{2}\s-\s\d{2}/.test(s)&&29==s.substr(6,2)||"33"==s.substr(6,2)||"44"==s.substr(6,2)||"25"==s.substr(6,2)?(a.className="",phonePerson=s,!0):(t.className="input_person__phone phone_not_valid_cont",a.className="phone_not_valid",n&&a.focus(),!1)}(i)&&i,i){let s=$(e).serialize();return s+="&fromForm="+n,s+="&order="+t,s+="&fromPage="+fromPage,_rc("send","order",{orderMethod:"",phone:$(e).find("input[name=person_phone]").val(),customTransactionId:url("?transaction_id"),customerComment:fromPage+" __ "+n+" __ "+t}),$.ajax({url:"php/orderOneClickKazan.php",type:"POST",data:s,success:function(){showModalExtraFurnace(".modal_extra_oneclick",a,phonePerson)},error:function(e){alert("Ошибка сервера. Сообщение не отправлено")}}),!1}s.preventDefault()}}function orderOneClickSet(e,n,t,a){e=e.closest("form"),t=t.replace("+"," плюс "),e.onsubmit=s=>{let i=!0;if(i=function(n){let t=e.parentNode.querySelector(".input_person__phone"),a=e.parentNode.querySelector(".input_person__phone input"),s=a.value;return/\+\d{3}\s\(\d{2}\)\s\d{3}\s-\s\d{2}\s-\s\d{2}/.test(s)&&29==s.substr(6,2)||"33"==s.substr(6,2)||"44"==s.substr(6,2)||"25"==s.substr(6,2)?(a.className="",phonePerson=s,!0):(t.className="input_person__phone phone_not_valid_cont",a.className="phone_not_valid",n&&a.focus(),!1)}(i)&&i,i){let s=$(e).serialize();return s+="&fromForm="+n,s+="&order="+t,s+="&fromPage="+fromPage,_rc("send","order",{orderMethod:"",phone:$(e).find("input[name=person_phone]").val(),customTransactionId:url("?transaction_id"),customerComment:fromPage+" __ "+n+" __ "+t}),$.ajax({url:"php/orderOneClickKazan.php",type:"POST",data:s,success:function(){showModalExtraFurnace(".modal_extra_oneclick",a,phonePerson)},error:function(e){alert("Ошибка сервера. Сообщение не отправлено")}}),!1}s.preventDefault()}}function orderOneClickAccessories(e,n,t,a){(e=e.closest("form")).onsubmit=s=>{let i=!0;if(i=function(n){let t=e.parentNode.querySelector(".input_person__phone"),a=e.parentNode.querySelector(".input_person__phone input"),s=a.value;return/\+\d{3}\s\(\d{2}\)\s\d{3}\s-\s\d{2}\s-\s\d{2}/.test(s)&&29==s.substr(6,2)||"33"==s.substr(6,2)||"44"==s.substr(6,2)||"25"==s.substr(6,2)?(a.className="",phonePerson=s,!0):(t.className="input_person__phone phone_not_valid_cont",a.className="phone_not_valid",n&&a.focus(),!1)}(i)&&i,i){let s=$(e).serialize();s+="&fromForm="+n,s+="&order="+t,s+="&fromPage="+fromPage;let i=$(e).find("input[name=needKazan]").val(),c="";return i&&(c="Нужен казан: "+i),_rc("send","order",{orderMethod:"",phone:$(e).find("input[name=person_phone]").val(),customTransactionId:url("?transaction_id"),customerComment:fromPage+" __ "+n+" __ "+t+" __ "+c}),$.ajax({url:"php/orderOneClickKazan.php",type:"POST",data:s,success:function(){showModalExtraAccessories(".modal_extra_oneclick",a,phonePerson)},error:function(e){alert("Ошибка сервера. Сообщение не отправлено")}}),!1}s.preventDefault()}}function sentQuiz(e,n,t){(e=e.closest("form")).onsubmit=a=>{let s=!0;if(s=function(n){let t=e.parentNode.querySelector(".input_person__phone"),a=e.parentNode.querySelector(".input_person__phone input"),s=a.value;return/\+\d{3}\s\(\d{2}\)\s\d{3}\s-\s\d{2}\s-\s\d{2}/.test(s)&&29==s.substr(6,2)||"33"==s.substr(6,2)||"44"==s.substr(6,2)||"25"==s.substr(6,2)?(a.className="",phonePerson=s,!0):(t.className="input_person__phone phone_not_valid_cont",a.className="phone_not_valid",n&&a.focus(),!1)}(s)&&s,s){let a=$(e).serialize();return a+="&fromForm="+n,a+="&fromPage="+t,_rc("send","order",{orderMethod:"",phone:$(e).find("input[name=person_phone_quiz]").val(),customTransactionId:url("?transaction_id"),customerComment:t+" __ "+n+" __ "+`\n                1. Какой казан вас интересует? -- ${$(e).find("input[name=kazan_quiz]").val()};                                          \n                2. На какое количество персон вы будете готовить? -- ${$(e).find("input[name=person_quiz]").val()};                                           \n                3. Вы планируете готовить? -- ${$(e).find("input[name=cook_quiz]").val()};                                              \n                4. У вас есть печь или мангал для казана? -- ${$(e).find("input[name=quiz_furnace]").val()};                                           \n                5. Вы хотите купить аксессуары со скидкой в 10%? -- ${$(e).find("input[name=accessories_quiz]").val()};                                           \n                6. Какой бюджет у вас на покупку казана? -- ${$(e).find("input[name=quiz_budget]").val()};                                          \n                7. Вам нужна доставка казана? -- ${$(e).find("input[name=quiz_delivery]").val()};                                          \n                8. Как с Вами связаться? -- ${$(e).find("input[name=quiz_messenger]").val()};                                           \n                9. Телефон -- ${$(e).find("input[name=person_phone_quiz]").val()};     \n                `}),$.ajax({url:"php/sentQuiz.php",type:"POST",data:a,success:function(){showModalExtraKazan(".modal_extra_oneclick","",phonePerson),isQuiz=!0,localStorage.setItem("kazanbelQuiz",JSON.stringify(isQuiz))},error:function(e){alert("Ошибка сервера. Сообщение не отправлено")}}),!1}a.preventDefault()}}function setOwlCarousel(e,n){if(window.innerWidth<n){let n=document.querySelectorAll(e);for(let e of n)e.classList.add("owl-carousel")}}$(document).ready((function(){$(".our_advantages__items.owl-carousel").owlCarousel({responsiveClass:!0,nav:!0,dots:!1,margin:20,autoWidth:!0,slideTransition:"linear"})})),$(document).ready((function(){$(".credit_cards.owl-carousel").owlCarousel({margin:16,responsiveClass:!0,nav:!0,dots:!1,stagePadding:20,slideTransition:"linear",responsive:{0:{items:1},380:{items:2},480:{items:3},630:{items:3},1e3:{items:4}}})}));let cartArr=JSON.parse(localStorage.getItem("kazanbelCart"))?JSON.parse(localStorage.getItem("kazanbelCart")):[];function addToCart(elem,type,size){elem=eval(elem);let newObj={};switch(type){case"kazan":newObj.id=+elem.id,newObj.count=1,newObj.name=elem.name,newObj.img=elem.img[0],newObj.size="",newObj.price=elem.price,newObj.discountPrice=elem.discountPrice;break;case"furnace":size=+size.getAttribute("size"),newObj.id=+elem.id,newObj.count=1,newObj.name=elem.title,newObj.img=elem.img[0],newObj.size=elem.size[size].size,newObj.price=elem.size[size].price,newObj.discountPrice=elem.size[size].discountPrice;break;case"set":newObj.id=+elem.id,newObj.count=1,newObj.name=elem.title,newObj.img=elem.img[0],newObj.size="",newObj.price=elem.singlePrice,newObj.discountPrice=elem.setPrice;break;case"accessories":size=+size.getAttribute("size"),newObj.id=+elem.id,newObj.count=1,newObj.name=elem.name,newObj.img=elem.size[size].img[0],newObj.size=elem.size[size].size,newObj.price=elem.size[size].price,newObj.discountPrice=elem.size[size].discountPrice}for(let e of cartArr)if(newObj.id==e.id)return e.count+=1,localStorage.setItem("kazanbelCart",JSON.stringify(cartArr)),renderCart(),void modalAddToCart();cartArr.push(newObj),renderNumberInCart(),localStorage.setItem("kazanbelCart",JSON.stringify(cartArr)),renderCart(),modalAddToCart(),console.log(cartArr)}function renderCart(){const e=document.querySelector(".cart .cart_items");document.querySelector(".cart_block"),document.querySelector(".cart_empty"),document.querySelector(".cart_close_desktop");let n=document.querySelector(".cart_total_price"),t=0;e.innerHTML="",e.innerHTML='\n    <div class="cart_item cart_item--gift">\n        <div class="cart_item__img cart_item__img--gift"></div>\n        <div class="cart_item__title">\n            <span>Книга рецептов</span>\n        </div>\n        <div class="cart_counter">\n        </div>\n        <div class="cart_item__price">\n            <span class="cart_item__price--standart">120 руб</span>\n            <span class="cart_item__price--stock">Бесплатно</span>\n        </div>\n    </div>\n    ';for(let[n,a]of cartArr.entries())e.innerHTML+=`\n        <div class="cart_item">\n            <div class="btn_remove" remove-id="${a.id}" onclick="removeFromCart(${a.id})"></div>\n            <img class="cart_item__img" src="${a.img}">\n            <div class="cart_item__title">\n                <span>${a.name}</span>\n            </div>\n            <div class="cart_counter">\n                <span class="cart_count plus" onclick="plusCount(${n})"></span>\n                <span class="input_counter">${a.count}</span>\n                <span class="cart_count minus" onclick="minusCount(${n})"></span>\n            </div>\n            <div class="cart_item__price">\n                <span class="cart_item__price--standart">${a.price*a.count} руб.</span>\n                <span class="cart_item__price--stock">${a.discountPrice*a.count} руб.</span>\n            </div>\n        </div>\n        `,t+=a.discountPrice*a.count;n.textContent=t}function removeFromCart(e){for(let n=0;n<cartArr.length;n++)cartArr[n].id==e&&cartArr.splice(n,1);localStorage.setItem("kazanbelCart",JSON.stringify(cartArr)),renderCart(),renderNumberInCart()}function renderNumberInCart(){const e=document.querySelectorAll(".btn_cart--count")[0],n=document.querySelectorAll(".btn_cart--count")[1];e.innerHTML=cartArr.length+1,n.innerHTML=cartArr.length+1}function plusCount(e){cartArr[e].count+=1,localStorage.setItem("kazanbelCart",JSON.stringify(cartArr)),renderCart()}function minusCount(e){cartArr[e].count>1&&(cartArr[e].count-=1,localStorage.setItem("kazanbelCart",JSON.stringify(cartArr)),renderCart())}renderCart(),renderNumberInCart();const catalogCategory=document.querySelector(".catalog_category");function renderKazan(e,n){catalogCategory.innerHTML="";for(let t=0;t<e.length;t++){let a=`\n        <div class="sub_category">\n            <div class="sub_category--head ${isAfgan?"afgan":""}">\n                <div class="sub_category--img" style="background: url(${e[t].titleImg}) center center no-repeat, #ff8653;"></div>\n                <h3>${e[t].title}<span> ${e[t].person}</span></h3>\n            </div>\n            \n            <div class="sub_category__items">\n        `,s="";for(let a=0;a<e[t].products.length;a++){let i=`\n            <div class="sub_category__item sub_category__kazan">\n            ${e[t].products[a].hit?'<span class="hit">Хит</span>':""}\n                <div class="img_bg__item">\n                `,c="";for(let[n,s]of e[t].products[a].img.entries())c+=`<div class="img_bg__item--elem">\n                    <a data-fancybox="gallery_${e[t].products[a].id}_${a}" href="${s}"><img src="${s}" alt="kazan"></a>\n                    \n                    </div>`;s+=i+c+`\n                      \n                </div>\n                <h3 class="sub_category__item--title">${e[t].products[a].name}</h3>\n                <span class="sub_category__item--preson">${e[t].products[a].for}</span>\n                <ul class="sub_category__item__params">\n                    ${isAfgan?`\n                    <li>\n                        <span class="params_bottom">Материал</span>\n                        <span>${e[t].products[a].material}</span>\n                    </li>\n                    <li>\n                        <span class="params_d">Диаметр</span>\n                        <span>${e[t].products[a].d}</span>\n                    </li>\n                    <li>\n                        <span class="params_height">Высота</span>\n                        <span>${e[t].products[a].height}</span>\n                    </li>  \n                    <li>\n                        <span class="params_weight">Вес</span>\n                        <span>${e[t].products[a].weight}</span>\n                    </li>   \n                    <li>\n                        <span class="params_value">Реальный обьем</span>\n                        <span>${e[t].products[a].value}</span>\n                    </li>                 \n                    `:`<li>\n                        <span class="params_bottom">Дно</span>\n                        <span>${e[t].products[a].bottom}</span>\n                    </li>\n                    <li>\n                        <span class="params_d">Диаметр</span>\n                        <span>${e[t].products[a].d}</span>\n                    </li>\n                    <li>\n                        <span class="params_deep">Глубина</span>\n                        <span>${e[t].products[a].deep}</span>\n                    </li>\n                    <li>\n                        <span class="params_tWall">Толщина стенок</span>\n                        <span>${e[t].products[a].tWall}</span>\n                    </li>\n                    <li>\n                        <span class="params_weight">Вес</span>\n                        <span>${e[t].products[a].weight}</span>\n                    </li>\n                    <li>\n                        <span class="params_cap">Крышка</span>\n                        <span>${e[t].products[a].cap}</span>\n                    </li> `}\n                </ul>\n                <div class="sub_category__item--price">\n                    <p class="price_default"><span  class="price_text">${e[t].products[a].price} руб.</span></p>\n                    <p class="price_discount"><span  class="price_text">${e[t].products[a].discountPrice} руб.</span></span><span><span class="price_discount__text">Цена с сезонной скидкой</span> </p>\n                </div>\n                <div class="sub_category__item--buy">\n                    <button type="button" class="btn-b" product-id="${e[t].products[a].id}" onclick="showModalOneClickKazan('.modal_oneclick', '${n}[${t}].products[${a}]', '${n}[${t}]')">Купить в 1 клик</button>\n                    <div class="btn_cart__wrap">\n                        <button class="btn_cart add_to_cart header_btn_mobile" product-id="${e[t].products[a].id}"  onclick="addToCart('${n}[${t}].products[${a}]', 'kazan')">\n                        <svg width="23" height="23" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)" fill="#000"><path d="M7.337 17.89a2.401 2.401 0 100 4.802 2.401 2.401 0 000-4.802zm0 3.735a1.334 1.334 0 110-2.668 1.334 1.334 0 010 2.668zm10.138-3.735a2.401 2.401 0 100 4.802 2.401 2.401 0 000-4.802zm0 3.735a1.334 1.334 0 110-2.668 1.334 1.334 0 010 2.668zm5.416-17.742a.667.667 0 00-.427-.214L5.096 3.43l-.48-1.467A2.455 2.455 0 002.32.308H.534a.534.534 0 100 1.067H2.32c.58.013 1.091.385 1.28.934l3.39 10.218-.268.614a2.561 2.561 0 00.24 2.32 2.481 2.481 0 002.001 1.121h10.379a.534.534 0 100-1.067H8.964a1.36 1.36 0 01-1.12-.64 1.467 1.467 0 01-.134-1.28l.214-.481 11.232-1.174a2.935 2.935 0 002.535-2.24l1.28-5.363a.454.454 0 00-.08-.453zm-2.24 5.576a1.814 1.814 0 01-1.628 1.414l-11.1 1.147-2.48-7.523 16.354.24-1.147 4.722z"/></g><defs><clipPath id="clip0"><path fill="#fff" d="M0 0h23v23H0z"/></clipPath></defs></svg>\n                        </button>\n                        <i>+</i>  \n                    </div>\n                    \n                </div>\n            </div> \n            `}catalogCategory.innerHTML+=`${a} ${s} </div></div>`}}function renderFurnace(e,n){containerFurnace.innerHTML="";for(let[t,a]of e.entries()){let e=`\n        <div class="catalog_furnace__item furnace__item_${t}" itemFurnace="${t}">\n            ${a.hit?'<span class="hit">Хит</span>':""}\n            <div class="catalog_furnace__item--images">\n            \n            `,s="";for(let[e,n]of a.img.entries())s+=`\n                <a href="${n}" data-fancybox="gallery_furnace_${t}" class="catalog_furnace__item--images__elem"><img src="${n}" alt="${a.title}"><div></div></a>`;let i=`\n            </div>\n            <div class="catalog_furnace__item--right">\n                <div class="catalog_furnace__item--descr__mobile">\n                    <h3>${a.title}</h3>\n                    <div class="furnace__differences--descr">\n                        <span class="furnace__btn_mobile" onclick="showPrompt('.prompt_diff_${a.id}')">Отличия от других?</span>\n                        <div class="prompt prompt_diff_${a.id} prompt_furnace">\n                            <div class="prompt_btn__close" onclick="hidePrompt(this)"></div>\n                            <h4 class="furnace__differences--title">${a.differences.title}</h4>\n                            <p>${a.differences.descr}</p>\n                        </div>\n                    </div>\n                    <div class="furnace__main--descr">\n                        <span class="furnace__btn_mobile"  onclick="showPrompt('.prompt_char_${a.id}')">Характеристики</span>\n                        <div class="prompt prompt_char_${a.id} prompt_furnace">\n                            <div class="prompt_btn__close" onclick="hidePrompt(this)"></div>\n                                <h4>Характеристики</h4>\n                                <ul class="sub_category__item__params">\n                                    <li>\n                                        <span class="params_weight">Толщина металла</span>\n                                        <span>${a.weight}</span>\n                                    </li>\n                                    <li>\n                                        <span class="params_d">Под казан</span>\n                                        <span>${a.forKazan}</span>\n                                    </li>\n                                    <li>\n                                        <span class="params_material">Материал</span>\n                                        <span>${a.material}</span>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                </div> \n\n                <div class="catalog_furnace__item--descr">\n                    <div class="furnace__main--descr">\n                        <h3>${a.title}</h3>\n                        <ul class="sub_category__item__params">\n                            <li>\n                                <span class="params_weight">Толщина металла</span>\n                                <span>${a.weight}</span>\n                            </li>\n                            <li>\n                                <span class="params_d">Под казан</span>\n                                <span>${a.forKazan}</span>\n                            </li>\n                            <li>\n                                <span class="params_material">Материал</span>\n                                <span>${a.material}</span>\n                            </li>\n                        </ul>\n                        <button type="button" class="btn_prompt" onclick="showModal('.modal_furnace_size_${a.id}')"><i></i>Размеры печи</button>\n                        <div class="modal modal_furnace_size modal_furnace_size_${a.id}">\n                        <h3>Размер печи</h3>\n                        <img src="${a.size[0].sizeImg}" alt="${a.title}_размеры">\n                    </div> \n                </div>\n                <div class="furnace__differences--descr">\n                    <span class="furnace__differences--text">Отличия от других</span>\n                    <h4 class="furnace__differences--title">\n                        <div class="differences_title--img" style="background: url(${a.differences.imgIcon}) center bottom no-repeat, #FF9B64; background-size: 100%, auto;"></div>\n                        ${a.differences.title}</h4>\n                    <p>${a.differences.descr}</p>\n                </div>\n            </div>\n            <div class="catalog_furnace__item--bottom">\n                <div class="volume_price">\n                    <div>\n                        <span>Печь под размер казана</span>\n                        <div class="__select _select_furnace _select_furnace_${t}" data-state="">\n                        <div onclick="(showSelect(this))" class="__select__title  _select_title_furnace _select_title_furnace_${t}" data-default="${a.size[0].size}">${a.size[0].size}</div>\n                            <div class="__select__content _select_content_furnace _select_content_furnace_${t}">\n                                <div>\n            `,c="";for(let e=0;e<a.size.length;e++)c+=`<input id="selectFurncae_${e}_${t}" class="__select__input _select_input_furnace" type="radio" value="${e}" name="selectFurncae" \n                price="${a.size[e].price}" discountPrice="${a.size[e].discountPrice}" imageSize="${a.size[e].sizeImg}"\n                ${0==e?"checked":""}\n                 onclick="updateSizeFurnace(this, ${t}, ${n})"\n                />\n                <label for="selectFurncae_${e}_${t}" class="__select__label _select_label_furnace">${a.size[e].size}</label>\n                `;let r=`\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div>\n                                <span class="volume_price_span">Цена печи со скидкой</span>\n                                <div class="sub_category__item--price">\n                                    <p class="price_default"><span class="price_text">${a.size[0].price} руб.</span></p>\n                                    <p class="price_discount"><span class="price_current price_text">${a.size[0].discountPrice} руб.</span> </span><span><span class="price_discount__text">Цена со скидкой</span> </p>\n                                </div>\n                            </div>                                \n                        </div>\n\n                        <div class="sub_category__item--buy">\n                            <button type="button" class="btn-b furnace_one_click" product-id="${a.id}"  productItem="${t}" size="0" onclick="showModalOneClickFurnace('.modal_oneclick', ${n}[${t}], this)">Купить <span>${a.title}</span></button>\n                            <div class="btn_cart__wrap">\n                                <button class="btn_cart add_to_cart header_btn_mobile" product-id="${a.id}" productItem="${t}" onclick="addToCart(${n}[${t}], 'furnace', this)">\n                                <svg width="23" height="23" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)" fill="#000"><path d="M7.337 17.89a2.401 2.401 0 100 4.802 2.401 2.401 0 000-4.802zm0 3.735a1.334 1.334 0 110-2.668 1.334 1.334 0 010 2.668zm10.138-3.735a2.401 2.401 0 100 4.802 2.401 2.401 0 000-4.802zm0 3.735a1.334 1.334 0 110-2.668 1.334 1.334 0 010 2.668zm5.416-17.742a.667.667 0 00-.427-.214L5.096 3.43l-.48-1.467A2.455 2.455 0 002.32.308H.534a.534.534 0 100 1.067H2.32c.58.013 1.091.385 1.28.934l3.39 10.218-.268.614a2.561 2.561 0 00.24 2.32 2.481 2.481 0 002.001 1.121h10.379a.534.534 0 100-1.067H8.964a1.36 1.36 0 01-1.12-.64 1.467 1.467 0 01-.134-1.28l.214-.481 11.232-1.174a2.935 2.935 0 002.535-2.24l1.28-5.363a.454.454 0 00-.08-.453zm-2.24 5.576a1.814 1.814 0 01-1.628 1.414l-11.1 1.147-2.48-7.523 16.354.24-1.147 4.722z"/></g><defs><clipPath id="clip0"><path fill="#fff" d="M0 0h23v23H0z"/></clipPath></defs></svg>\n                                </button>\n                                <i>+</i>  \n                            </div>\n                        </div>\n                    </div>  \n                    </div>\n                </div>\n            \n            `;containerFurnace.innerHTML+=e+s+i+c+r}}function renderReadySet(e,n){for(let[t,a]of e.entries()){let e=`\n        <div class="sub_category__item ready_set__item ready_set__item_${t} category_item">\n            ${a.hit?'<span class="hit">Хит</span>':""}\n            <div class="img_bg__item">\n            `,s="";for(let[e,n]of a.img.entries())s+=`<div class="img_bg__item--elem">\n                <a data-fancybox="gallery_readyset_${t}" href="${n}"><img src="${n}" alt="kazan"></a>\n                \n                \n                </div>`;let i=` \n            </div>\n            <h3 class="sub_category__item--title">${a.title}</h3>\n            <div class="prompt_btn_container">\n                <span class="btn_item_info gear__btn_prompt"  onclick="showPrompt('.prompt_ready_set_${a.id}')">Характеристики</span>\n                    <div class="prompt prompt_ready_set_${a.id} prompt_furnace">\n                    <div class="prompt_btn__close" onclick="hidePrompt(this)"></div>\n                        <h4>Казан</h4>\n                        <ul class="sub_category__item__params">\n                            <li>\n                                <span class="params_d">Диаметр</span>\n                                <span>${a.prompt.d_kazan}</span>\n                            </li>\n                            <li>\n                                <span class="params_material">Материал</span>\n                                <span>${a.prompt.material}</span>\n                            </li>\n                            <li>\n                                <span class="params_weight">Толщина металла</span>\n                                <span>${a.prompt.weight_kazan}</span>\n                            </li>\n                            <li>\n                                <span class="params_cap">Крышка</span>\n                                <span>${a.prompt.cap}</span>\n                            </li>\n                        </ul>\n\n                        <h4>Печь</h4>\n                        <ul class="sub_category__item__params">\n\n                            <li>\n                                <span class="params_d">Диаметр</span>\n                                <span>${a.prompt.d_furnace}</span>\n                            </li>\n                            <li>\n                                <span class="params_weight">Толщина стали</span>\n                                <span>${a.prompt.weight_furnace}</span>\n                            </li>\n                        </ul>\n                    </div>    \n            </div>\n            <div class="sub_category__item--price">\n                <p class="price_default"><span class="price_text">${a.singlePrice} руб.</span><span class="price_discount__text">Цена по отдельности</span> </p>\n                <p class="price_discount"><span class="price_text">${a.setPrice} руб.</span><span class="price_discount__text">Цена комплекта</span> </p>\n            </div>\n            <div class="sub_category__item--buy">\n                <button type="button" class="btn-b" product-id="${a.id} product-item="${t}" onclick="showModalOneClickSet('.modal_oneclick', ${n}[${t}])">Купить в 1 клик</button>\n                <div class="btn_cart__wrap">\n                    <button class="btn_cart add_to_cart header_btn_mobile" product-id="${a.id} product-item="${t}" onclick="addToCart('${n}[${t}]', 'set')">\n                    <svg width="23" height="23" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)" fill="#000"><path d="M7.337 17.89a2.401 2.401 0 100 4.802 2.401 2.401 0 000-4.802zm0 3.735a1.334 1.334 0 110-2.668 1.334 1.334 0 010 2.668zm10.138-3.735a2.401 2.401 0 100 4.802 2.401 2.401 0 000-4.802zm0 3.735a1.334 1.334 0 110-2.668 1.334 1.334 0 010 2.668zm5.416-17.742a.667.667 0 00-.427-.214L5.096 3.43l-.48-1.467A2.455 2.455 0 002.32.308H.534a.534.534 0 100 1.067H2.32c.58.013 1.091.385 1.28.934l3.39 10.218-.268.614a2.561 2.561 0 00.24 2.32 2.481 2.481 0 002.001 1.121h10.379a.534.534 0 100-1.067H8.964a1.36 1.36 0 01-1.12-.64 1.467 1.467 0 01-.134-1.28l.214-.481 11.232-1.174a2.935 2.935 0 002.535-2.24l1.28-5.363a.454.454 0 00-.08-.453zm-2.24 5.576a1.814 1.814 0 01-1.628 1.414l-11.1 1.147-2.48-7.523 16.354.24-1.147 4.722z"/></g><defs><clipPath id="clip0"><path fill="#fff" d="M0 0h23v23H0z"/></clipPath></defs></svg>\n                    </button>\n                    <i>+</i>  \n                </div>\n            </div>\n        </div> \n        `;containerReadySet.innerHTML+=e+s+i}}function renderAccessories(){containerAccessories.innerHTML="";let e="",n="";for(let[t,a]of accessories.entries()){switch(console.log(a,t),t){case 0:n="acc_for_kazan";break;case 1:n="acc_shumovki";break;case 2:n="acc_tableware";break;case 3:n="acc_pchaki";break;case 4:n="acc_for_grill"}e=`\n        <div class="sub_category--head" id="${n}">\n            <div class="sub_category--img" style="background: url(${a.titleImg}) center center no-repeat, #ff8653;"></div>\n            <h3>${a.title}</h3>\n        </div>\n        <div class="accessories_catalog__items owl-carousel accessories_catalog__items_${t}">\n        `;let s="";for(let[e,n]of a.products.entries()){catalogItem1=`\n            <div class="sub_category__item accessories_catalog__item accessories_catalog__item_${e} category_item">\n                ${n.hit?'<span class="hit">Хит</span>':""}\n                <div class="img_bg__item">\n                `;let a="";for(let[s,i]of n.size[0].img.entries())a+=`<div class="img_bg__item--elem">\n                    <a data-fancybox="gallery_accessories_${t}_${n.id}_${e}_0" href="${i}"><img src="${i}" alt="accessories"></a>\n                    </div>`;let i=`\n                </div>\n                <h3 class="sub_category__item--title">${n.name}</h3>\n                <div class="prompt_btn_container">\n                    <span class="btn_item_info gear__btn_prompt question__btn_prompt"  onclick="showPrompt('.prompt_accessories__${n.id}')">Чем пригодится?</span>\n                    <div class="prompt prompt_accessories__${n.id} prompt_info">\n                        <div class="prompt_btn__close" onclick="hidePrompt(this)"></div>\n                        <h4>${n.useful.title}</h4>\n                        <p>${n.useful.descr}</p>\n                    </div>    \n                </div>\n                <div class="prompt_btn_container">\n                    <span class="btn_item_info gear__btn_prompt"  onclick="showPrompt('.prompt_accessories_char_${n.id}')">Характеристики</span>\n                    <div class="prompt prompt_accessories_char_${n.id} prompt_info">\n                        <div class="prompt_btn__close" onclick="hidePrompt(this)"></div>\n                        <h4>Характеристики</h4>\n                        <ul class="sub_category__item__params">\n                `,c="";for(let[e,t]of n.params.entries())c+=`\n                    <li>\n                        <span class="params_weight">${t.title}</span>\n                        <span>${t.index}</span>\n                    </li>                    \n                    \n                    `;let r=`\n                        </ul>\n                    </div>    \n                </div>\n                <div class="volume_price">\n                    <div>\n                        <span>Печь под размер казана</span>\n                        <div class="__select _select_accessories" data-state="">\n                            <div onclick="(showSelect(this))" elem_item="${e}" class="__select__title _select_accessories_title" data-default="${n.size[0].size}">${n.size[0].size}</div>\n                            <div class="__select__content _select_accessories_content">\n                                <div>`,o="";for(let[a,s]of n.size.entries())o+=`\n                                    <input value="${a}" id="singleAccessories_${t}_${e}_${a}" class="__select__input _select_accessories_input" onclick="updateSizeAccessories(this, ${t}, ${e})" type="radio" name="singleAccessories" ${0==a?"checked":""} />\n                                    <label value="${a}" for="singleAccessories_${t}_${e}_${a}" class="__select__label __select_accessories_label" >${s.size}</label>                                    \n                                `;let l=`               \n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div>\n                        <div class="sub_category__item--price">\n                            <p class="price_default"><span class="price_text">${n.size[0].price} руб.</span class="price_text"></p>\n                            <p class="price_discount"><span class="price_current price_text">${n.size[0].discountPrice} руб.</span> <span><span class="price_discount__text">Цена со скидкой</span> </span></p>\n                        </div>\n                    </div>                                \n                </div>\n                <div class="sub_category__item--buy">\n                    <button type="button" class="btn-b one_click_accessories" product-id="${n.id} product-item="${e}" size='0' onclick="showModalOneClickAccessories('.modal_oneclick', accessories[${t}].products[${e}], this)">Купить в 1 клик</button>\n                    <div class="btn_cart__wrap">\n                        <button class="btn_cart add_to_cart header_btn_mobile" product-id="${n.id} product-item="${e}" size="0"  onclick="addToCart('accessories[${t}].products[${e}]','accessories', this)">\n                        <svg width="23" height="23" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)" fill="#000"><path d="M7.337 17.89a2.401 2.401 0 100 4.802 2.401 2.401 0 000-4.802zm0 3.735a1.334 1.334 0 110-2.668 1.334 1.334 0 010 2.668zm10.138-3.735a2.401 2.401 0 100 4.802 2.401 2.401 0 000-4.802zm0 3.735a1.334 1.334 0 110-2.668 1.334 1.334 0 010 2.668zm5.416-17.742a.667.667 0 00-.427-.214L5.096 3.43l-.48-1.467A2.455 2.455 0 002.32.308H.534a.534.534 0 100 1.067H2.32c.58.013 1.091.385 1.28.934l3.39 10.218-.268.614a2.561 2.561 0 00.24 2.32 2.481 2.481 0 002.001 1.121h10.379a.534.534 0 100-1.067H8.964a1.36 1.36 0 01-1.12-.64 1.467 1.467 0 01-.134-1.28l.214-.481 11.232-1.174a2.935 2.935 0 002.535-2.24l1.28-5.363a.454.454 0 00-.08-.453zm-2.24 5.576a1.814 1.814 0 01-1.628 1.414l-11.1 1.147-2.48-7.523 16.354.24-1.147 4.722z"/></g><defs><clipPath id="clip0"><path fill="#fff" d="M0 0h23v23H0z"/></clipPath></defs></svg>\n                        </button>\n                        <i>+</i>  \n                    </div>\n                </div>\n            </div>              \n            `;s+=catalogItem1+a+i+c+r+o+l}containerAccessories.innerHTML+=e+s+"</div>"}}function showModalExtraKazan(e,n){const t=document.querySelector(e+" form");body.classList.contains("uzbek")?n=furnaceUzbek:body.classList.contains("afgan")&&(n=furnaceAfgan),t.innerHTML=renderExtraFurnace(e,n)+renderExtraAccessories(e,!0),$(e).modal({clickClose:!1}),setTimeout((function(){$(".modal_extra_oneclick form").slick(quizSlider()),$(".extra_img_block").slick(imgItemSlider()),$(".extra_items.owl-carousel").owlCarousel({autoWidth:!0,items:4,dots:!1})}),200),$(".extra_back").click((function(){$(e+" form>.slick-prev").trigger("click")})),$(".extra_next").click((function(){$(e+" form>.slick-next").trigger("click")})),$(".modal_extra_oneclick .close_modal_slick").click((function(e){e.preventDefault(),$(".modal_extra_oneclick form").slick("unslick"),$(".extra_img_block").slick("unslick"),setTimeout((function(){"Узбекские казаны"==fromPage&&(window.location.href="thanksUzbek.html"),"Афганские казаны"==fromPage&&(window.location.href="thanksAfgan.html")}),500)}))}function showModalExtraAccessories(e){const n=document.querySelector(e+" form");body.classList.contains("uzbek")?data=furnaceUzbek:body.classList.contains("afgan")&&(data=furnaceAfgan),n.innerHTML=renderExtraFurnace(e,data,!0),$(e).modal({clickClose:!1}),setTimeout((function(){$(".modal_extra_oneclick form").slick(quizSlider()),$(".extra_img_block").slick(imgItemSlider()),$(".extra_items.owl-carousel").owlCarousel({autoWidth:!0,items:4,dots:!1})}),200),$(".extra_back").click((function(){$(e+" form>.slick-prev").trigger("click")})),$(".extra_next").click((function(){$(e+" form>.slick-next").trigger("click")})),$(".modal_extra_oneclick .close_modal_slick").click((function(e){e.preventDefault(),$(".modal_extra_oneclick form").slick("unslick"),$(".extra_img_block").slick("unslick"),setTimeout((function(){"Узбекские казаны"==fromPage&&(window.location.href="thanksUzbek.html"),"Афганские казаны"==fromPage&&(window.location.href="thanksAfgan.html")}),500)}))}function showModalExtraFurnace(e){document.querySelector(e+" form").innerHTML=renderExtraAccessories(e,!0),$(e).modal({clickClose:!1}),setTimeout((function(){$(".modal_extra_oneclick form").slick(quizSlider()),$(".extra_img_block").slick(imgItemSlider()),$(".extra_items.owl-carousel").owlCarousel({autoWidth:!0,items:4,dots:!1})}),200),$(".extra_back").click((function(){$(e+" form>.slick-prev").trigger("click")})),$(".extra_next").click((function(){$(e+" form>.slick-next").trigger("click")})),$(".modal_extra_oneclick .close_modal_slick").click((function(e){e.preventDefault(),$(".modal_extra_oneclick form").slick("unslick"),$(".extra_img_block").slick("unslick"),setTimeout((function(){"Узбекские казаны"==fromPage&&(window.location.href="thanksUzbek.html"),"Афганские казаны"==fromPage&&(window.location.href="thanksAfgan.html")}),500)}))}function renderExtraFurnace(e,n,t){let a="";for(let[e,t]of n.entries()){console.log(t);let e=`\n            <div class="extra_item">\n                <input type="checkbox" name="extra_furnace[]" id="extra_furnace_${t.id}" value="id: ${t.id}, Название: ${t.title}, Цена:${t.size[0].discountPrice}">\n                <label for="extra_furnace_${t.id}">\n                    <div class="extra_img_block">\n                    `,n="";for(let e of t.img)n+=`<img src="${e}" alt="test">`;a+=e+n+`    \n                    </div>\n                    <h4>${t.title}</h4>\n                    <div class="extra_btns">\n                        <div class="btn_extra_block">\n                        <button type="button" class="btn-a" onclick="showPrompt('.btn_extra_furnace_char_${t.id}')">Характеристики</button> \n                        <div class="prompt btn_extra_furnace_char_${t.id} prompt_furnace">\n                            <div class="prompt_btn__close" onclick="hidePrompt(this)"></div>\n                                <h4>Характеристики</h4>\n                                <ul class="sub_category__item__params">\n                                    <li>\n                                        <span class="params_weight">Толщина металла</span>\n                                        <span>${t.weight}</span>\n                                    </li>\n                                    <li>\n                                        <span class="params_d">Под казан</span>\n                                        <span>${t.forKazan}</span>\n                                    </li>\n                                    <li>\n                                        <span class="params_material">Материал</span>\n                                        <span>${t.material}</span>\n                                    </li>\n                                </ul>\n                            </div> \n                        </div>\n                        <div class="btn_extra_block">\n                            <button type="button" class="btn-a"  onclick="showPrompt('.btn_extra_furnace_info_${t.id}')">Информация</button>\n                            <div class="prompt btn_extra_furnace_info_${t.id} prompt_furnace">\n                                <div class="prompt_btn__close" onclick="hidePrompt(this)"></div>\n                                <h4 class="furnace__differences--title">${t.differences.title}</h4>\n                                <p>${t.differences.descr}</p>\n                            </div>\n                        </div>                                \n                    </div>\n                    <div class="exptra_price">\n                        <span class="extra_old_price">${t.size[0].price} руб.</span>\n                        <span class="extra_current_price">${t.size[0].discountPrice} руб.</span>\n                    </div>                            \n                </label>\n            </div>\n            `}return'\n    <div class="extra_block">\n        <h3>Вам нужна печь?</h3>\n        <p class="extra_discount"><i></i>При заказе печи, <b>у вас будет скидка 10% на казан и шумовка в подарок</b></p>\n        <p class="swipe_slider">Листайте карточки, чтобы смотреть другие размеры</p>\n        <div class="extra_items owl-carousel">\n        '+a+`\n        </div>\n        <div class="extra_btns_nav">\n            <div class="btns">\n                <button type="button" class="extra_back"></button>\n                <button type="${t?"submit":"button"}" ${t?'onclick="orderOneClickExtra(this, `Заказ допов`)" ':""} class="btn-b extra_next">Далее<i></i></button>                       \n            </div>\n            <span class="extra_skip">Можно пропустить</span>\n        </div>\n        <div class="extra_bottom">\n            <h4>Вам нужна печь, но вы сомневаетесь с размером?</h4>\n            <p>Выберите нужную вам печь в любом размере, при оформлении заказа менеджер подберет вам размер</p>                    \n        </div>\n    </div>\n    `}function renderExtraAccessories(e,n){let t="";for(let[e,n]of accessories.entries()){let a=`\n            <div class="extra_items_head">\n                <div class="extra_items_head--img" style="background: url(${n.titleImg}) left bottom no-repeat, #ff8653;"></div>\n                <h3>${n.title}</h3>\n            </div>\n            <div class="extra_items owl-carousel">\n            `,s="";for(let[t,a]of n.products.entries()){let n=`\n                <div class="extra_item extra_item_accessories">\n                    <input type="checkbox" name="extra_furnace[]" id="extra_accessories_${a.id}_${e}" value="id: ${a.id}, Название: ${a.name}, Цена: ${a.size[0].discountPrice}">\n                    <label for="extra_accessories_${a.id}_${e}">\n                        <div class="extra_img_block">\n                        `,t="";for(let e of a.size[0].img)t+=`<img src="${e}" alt="${a.name}">`;let i=`\n                        </div>\n                        <h4>${a.name}</h4>\n                        <div class="extra_btns">\n                            <div class="btn_extra_block">\n                            <button type="button" class="btn-a" onclick="showPrompt('.btn_extra_accessories_char_${a.id}_${e}')">Характеристики</button> \n                            <div class="prompt btn_extra_accessories_char_${a.id}_${e} prompt_info">\n                                <div class="prompt_btn__close" onclick="hidePrompt(this)"></div>\n                                    <h4>Характеристики</h4>\n                                    <ul class="sub_category__item__params">\n                                    `,c="";for(let e of a.params)c+=`\n                            <li>\n                                <span>${e.title}</span>\n                                <span>${e.index}</span>\n                            </li>\n                            `;s+=n+t+i+c+`   \n                                    </ul>\n                                </div> \n                            </div>\n                            <div class="btn_extra_block">\n                                <button type="button" class="btn-a"  onclick="showPrompt('.btn_extra_accessories_info_${a.id}_${e}')">Информация</button>\n                                <div class="prompt btn_extra_accessories_info_${a.id}_${e} prompt_info">\n                                    <div class="prompt_btn__close" onclick="hidePrompt(this)"></div>\n                                    <h4 class="furnace__differences--title">Информация</h4>\n                                    <p>${a.useful.descr}</p>\n                                </div>\n                            </div>                                \n                        </div>\n                        <div class="exptra_price">\n                            <span class="extra_old_price">${a.size[0].price} руб.</span>\n                            <span class="extra_current_price">${a.size[0].discountPrice} руб.</span>\n                        </div>                            \n                    </label>\n                </div>\n                `}t+=a+s+"  \n            </div>\n        \n        "}return'\n    <div class="extra_block">\n        <h3>Дополнительные аксессуары?</h3>\n        <p class="extra_discount"><i></i>При заказе печь + казан + аксессуар,<br>доставка в подарок</b></p>\n        // <p class="swipe_slider">Листайте карточки, чтобы смотреть другие размеры</p>\n        <div class="extra_items_block">\n        '+t+`\n        </div>\n        <div class="extra_btns_nav">\n            <div class="btns">\n                <button type="button" class="extra_back"></button>\n                <button type="${n?"submit":"button"}" ${n?'onclick="orderOneClickExtra(this, `Заказ допов`)" ':""} class="btn-b extra_next">Далее<i></i></button>                       \n            </div>\n            <span class="extra_skip">Можно пропустить</span>\n        </div>\n    </div>\n    `}function updateSizeFurnace(e,contItem,name){name=eval(name);let mainItem=document.querySelector(".furnace__item_"+contItem);mainItem.querySelector(".furnace_one_click").setAttribute("size",e.value),mainItem.querySelector(".add_to_cart").setAttribute("size",e.value),mainItem.querySelector(".price_default span").textContent=name[contItem].size[e.value].price+" руб.",mainItem.querySelector(".price_discount .price_current").textContent=name[contItem].size[e.value].discountPrice+" руб.",mainItem.querySelector(".modal_furnace_size img").setAttribute("src",name[contItem].size[e.value].sizeImg+"")}function updateSizeAccessories(e,n,t){let a=document.querySelector(".accessories_catalog__items_"+n).querySelector(".accessories_catalog__item_"+t);a.querySelector(".one_click_accessories").setAttribute("size",e.value+""),a.querySelector(".add_to_cart").setAttribute("size",e.value+"");let s=a.querySelector(".img_bg__item");s.innerHTML="";let i="";for(let a of accessories[n].products[t].size[e.value].img)i+=`<div class="img_bg__item--elem">\n       <a data-fancybox="gallery_accessories_${accessories[n].products[t].id}_${e.value}" href="${a}"><img src="${a}" alt="accessories"></a>\n       </div>`;console.log(i),$(s).slick("unslick"),s.innerHTML=i,$(s).slick(imgItemSlider()),a.querySelector(".price_default span").textContent=accessories[n].products[t].size[e.value].price+" руб.",a.querySelector(".price_discount .price_current").textContent=accessories[n].products[t].size[e.value].discountPrice+" руб."}const furnaceNav=document.querySelector(".nav_catalog_furnace");furnaceNav&&(furnaceNav.onclick=function(e){for(let e=0;e<furnaceNav.children.length;e++)furnaceNav.children[e].classList.remove("active");$(".catalog_furnace__item--images").slick("unslick"),$(".catalog_furnace__item--images").slick(furnaceSlider()),e.target.classList.add("active");let n=e.target.getAttribute("furnace-item"),t=containerFurnace.querySelectorAll(".catalog_furnace__item");for(let e=0;e<t.length;e++)t[e].style.display="none";containerFurnace.querySelector(".furnace__item_"+n).style.display="flex"});let isScrollCatalog=!0,isScrollReviews=!0;function render(){if(body.classList.contains("uzbek")&&(renderKazan(kazanUzbek,"kazanUzbek"),renderFurnace(furnaceUzbek,"furnaceUzbek"),renderReadySet(ready_setsUzbek,"ready_setsUzbek")),body.classList.contains("afgan")&&(renderKazan(kazanAfgan,"kazanAfgan"),renderFurnace(furnaceAfgan,"furnaceAfgan"),renderReadySet(ready_setsAfgan,"ready_setsAfgan")),renderAccessories(),$(".catalog_furnace__item--images").slick(furnaceSlider()),$(".img_bg__item").slick(imgItemSlider()),$(document).ready((function(){$(".catalog_furnace__items.owl-carousel").owlCarousel({responsiveClass:!0,nav:!1,items:1,dots:!1,slideTransition:"linear"})})),window.innerWidth<600){let e=document.querySelectorAll(".catalog_furnace__item");console.log(e);for(let n of e){n.querySelector(".btn-b").textContent="купить в 1 клик"}}}function renderReviewYandex(){document.querySelector(".review_left").innerHTML='\n    <iframe style="width:100%;height:100%;border:1px solid #e6e6e6;border-radius:8px;box-sizing:border-box" src="https://yandex.ru/maps-reviews-widget/105833180518?comments"></iframe>\n    <a href="https://yandex.by/maps/org/kazan_bel/105833180518/" target="_blank" style="box-sizing:border-box;text-decoration:none;color:#b3b3b3;font-size:10px;font-family:YS Text,sans-serif;padding:0 20px;position:absolute;bottom:8px;width:100%;text-align:center;left:0">\n    </a>\n    '}function furnaceSlider(){return{dots:!1,slidesToShow:1,slidesToScroll:1,arrows:!0,infinite:!1,cssEase:"linear"}}function quizSlider(){return{dots:!1,slidesToShow:1,slidesToScroll:1,fade:!0,arrows:!0,infinite:!1,touchMove:!1,swipe:!1}}function imgItemSlider(){return{dots:!1,slidesToShow:1,slidesToScroll:1,arrows:!0,infinite:!1,cssEase:"linear"}}function showSelect(e){const n=e,t=n.parentNode,a=t.querySelectorAll(".__select__label");"active"===t.getAttribute("data-state")?t.setAttribute("data-state",""):t.setAttribute("data-state","active");for(let e=0;e<a.length;e++)a[e].addEventListener("click",e=>{n.textContent=e.target.textContent,t.setAttribute("data-state","")})}$(window).scroll((function(){$(window).scrollTop()>2500&&isScrollCatalog&&(isScrollCatalog=!1,render()),$(window).scrollTop()>6500&&isScrollReviews&&(isScrollReviews=!1,renderReviewYandex())})),window.innerWidth>600&&$(document).ready((function(){$(".accessories_catalog__items.owl-carousel").owlCarousel({margin:7,responsiveClass:!0,dotsEach:!0,slideTransition:"linear",responsive:{0:{items:1,autoWidth:!0,dots:!1},500:{items:2,autoWidth:!0},800:{nav:!1,dots:!1},900:{items:3,nav:!0,dots:!0},1200:{items:4,nav:!0,dots:!0}}})})),setOwlCarousel(".our_advantages__items",1200),setOwlCarousel(".credit_cards",1200),window.addEventListener("resize",(function(){setOwlCarousel(".our_advantages__items",1200),setOwlCarousel(".credit_cards",1200),setOwlCarousel(".ready_set__items",600),window.innerWidth})),$(".questions-block").click((function(){$(this).children(".questions-block-cont").slideToggle()}));const anchors=document.querySelectorAll('a[href*="#"]');for(let e of anchors)e.addEventListener("click",(function(n){n.preventDefault();const t=e.getAttribute("href").substr(1);document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start"})}));$.fn.setCursorPosition=function(e){if($(this).get(0).setSelectionRange)$(this).get(0).setSelectionRange(e,e);else if($(this).get(0).createTextRange){var n=$(this).get(0).createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}},$(".input_person__phone input").click((function(){$(this).setCursorPosition(6)})),window.innerWidth<660&&$(window).scroll((function(){$(window).scrollTop()>200&&($(".why_we__mobile_btns").addClass("active"),$(".header_mobile .header_bottom").addClass("remove")),$(window).scrollTop()<200&&($(".why_we__mobile_btns").removeClass("active"),$(".header_mobile .header_bottom").removeClass("remove"))}));let scrollParallax=0;isAfgan&&(scrollParallax=-1600),window.innerWidth>1200&&$(window).scroll((function(){$(window).scrollTop()>800&&$(".parallax_terminal").bgscroll({direction:"top"}),$(window).scrollTop()>2600&&$(".parallax_paper").bgscroll({direction:"top"}),$(window).scrollTop()>2600&&$(".parallax_kazan").bgscroll({direction:"top"}),$(window).scrollTop()>5500+scrollParallax&&$(".parallax_furnace").bgscroll({direction:"top"}),$(window).scrollTop()>7500+scrollParallax&&$(".acces_parallax").bgscroll({direction:"top"}),$(window).scrollTop()>11700+scrollParallax&&$(".review_parallax").bgscroll({direction:"top"}),$(window).scrollTop()>14e3+scrollParallax&&$(".parallax_gift").bgscroll({direction:"top"}),$(window).scrollTop()>16e3+scrollParallax&&$(".parallax_bot").bgscroll({direction:"top"})})),setTimeout((function(){isQuiz||$(".quiz_modal").modal({closeExisting:!1})}),25e3),$(document).mouseleave((function(e){e.clientY<10&&!isModalExit&&($(".modal_exit").modal({closeExisting:!1}),isModalExit=!0)})),$("[data-fancybox]").fancybox({loop:!0,transitionEffect:"tube",hash:!1,backFocus:!1});